<!DOCTYPE html>
<html lang="en">
<head>
    <title>Data Catalog | Overview | Connected-vehicles</title>
    <!-- OPEN GRAPH -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Data Catalog | Overview | Connected-vehicles">
    <meta property="og:url" content="https://developer.groupe-psa.io/connected-vehicles/data-catalog/">
    <meta property="og:image" content="https://developer.groupe-psa.io/assets/images/logo-groupe-psa.jpg" />
    <meta property="og:site_name" content="Stellantis for Developers">
    <meta property="og:description" content="This table is a data catalog of all info available within Stellantis API for ex Groupe PSA brands (Citroën, DS, Peugeot, Opel and Vauxhall).">
    <link rel="icon" type="image/png" href="/favicon.png" />
    <!-- TWITTER CARD -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="Data Catalog | Overview | Connected-vehicles">
    <meta name="twitter:description" content="This table is a data catalog of all info available within Stellantis API for ex Groupe PSA brands (Citroën, DS, Peugeot, Opel and Vauxhall).">
    <meta name="twitter:card" content="summary">
    <meta itemprop="description" name="description" content="This table is a data catalog of all info available within Stellantis API for ex Groupe PSA brands (Citroën, DS, Peugeot, Opel and Vauxhall)." />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <link rel="canonical" href="https://developer.groupe-psa.io/connected-vehicles/data-catalog/">
    <!-- MAIN CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <!-- FONTs -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"><link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;500;700&family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500&family=Lora:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">
    <!-- COMPONENTs CSS -->
    <link rel="stylesheet" href="/assets/css/modules/data-catalog.css">
    <link href="https://unpkg.com/tabulator-tables@4.6.3/dist/css/bulma/tabulator_bulma.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@4.6.3/dist/js/tabulator.min.js"></script>
    <!-- LIBRARIEs --><!-- SCRIPTs-->
    <script src="/assets/js/dropdown.js"></script>
    <script src="/assets/js/main.js"></script>

    <!-- Matomo-->
    <script type="text/javascript" language="Javascript" src="/assets/js/tag_piwik_PG4D_DOC_id_550.js"></script>
    <!-- End Matomo Code -->

<body>
    <section class="hero hero-header no-header-body">
        <div class="hero-head">
            <nav aria-label="main navigation" class="navbar is-fixed-top" id="navbarpsa" role="navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="/">
            <div id="logoPG4D">
                <img alt="logo-pg4d" src="/assets/images/logo-pg4d.svg">
            </div>
        </a>
        <a aria-expanded="false" aria-label="menu" class="navbar-burger" data-target="navMenu" role="button">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>
    <div class="navbar-menu" id="navMenu">
        <div class="navbar-start">
            
                
                <div class="navbar-item menu has-dropdown is-hoverable">
                    <a class="textnavbar navbar-link is-active" href="/connected-vehicles/">
                        <span class="icon is-large is-white">
                            <i class="fas fa-wifi"></i>
                        </span>
                        <span class="section-name">
                            Connected&nbsp;<br class='is-hidden-touch'>Vehicles
                        </span>
                    </a>
                    <div class="navbar-dropdown" id="dropdownAPI">
                        <p href="/connected-vehicles/#article" class="navbar-item dropdown-title is-default is-active" id="overview" onclick="navClick(document.getElementById('overview'), 'overview');">
                                <span>
                                    OVERVIEW
                                </span>
                                <span>
                                    <svg class="arrow arrow-down" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="overview" class=" is-default-subsection  navbar-item " href="/connected-vehicles/about/#article">
                                            About
                                        </a>
                                    <a id="overview" class=" is-default-subsection  navbar-item " href="/connected-vehicles/access-requirements/#article">
                                            Access Requirements
                                        </a>
                                    <a id="overview" class=" is-default-subsection  navbar-item " href="/connected-vehicles/privacy/#article">
                                            Privacy Settings
                                        </a>
                                    <a id="overview" class=" is-default-subsection  navbar-item " href="/connected-vehicles/remotes/#article">
                                            Remotes Control
                                        </a>
                                    <a id="overview" class=" is-default-subsection  navbar-item " href="/connected-vehicles/monitors/#article">
                                            Monitoring & Notification
                                        </a>
                                    <a id="overview" class=" is-default-subsection  navbar-item is-active" href="/connected-vehicles/data-catalog/#article">
                                            Data Catalog
                                        </a>
                                    </div>
                </div>
                
            
                
                <div class="navbar-item menu has-dropdown is-hoverable">
                    <a class="textnavbar navbar-link " href="/webapi/">
                        <span class="icon is-large is-white">
                            <i class="fas fa-cloud"></i>
                        </span>
                        <span class="section-name">
                            Web&nbsp;<br class='is-hidden-touch'>API
                        </span>
                    </a>
                    <div class="navbar-dropdown" id="dropdownAPI">
                        <p href="/webapi/b2b/#article" class="navbar-item dropdown-title " id="b2b" onclick="navClick(document.getElementById('b2b'), 'b2b');">
                                <span>
                                    FLEET OWNER
                                </span>
                                <span>
                                    <svg class="arrow arrow-right" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="b2b" class=" navbar-item " href="/webapi/b2b/overview/about/#article">
                                        Overview
                                    </a><a id="b2b" class=" navbar-item " href="/webapi/b2b/quickstart/authentication/#article">
                                        Quickstart
                                    </a><a id="b2b" class=" navbar-item " href="/webapi/b2b/monitor/about/#article">
                                        Monitor
                                    </a><a id="b2b" class=" navbar-item " href="/webapi/b2b/remote/about/#article">
                                        Remote
                                    </a><a id="b2b" class=" navbar-item " href="/webapi/b2b/api-reference-v2/specification/#article">
                                        API Reference v2
                                    </a><a id="b2b" class=" navbar-item " href="/webapi/b2b/api-reference-v3/specification/#article">
                                        API Reference v3
                                    </a><hr class="navbar-divider"><p href="/webapi/b2c/#article" class="navbar-item dropdown-title " id="b2c" onclick="navClick(document.getElementById('b2c'), 'b2c');">
                                <span>
                                    END USER
                                </span>
                                <span>
                                    <svg class="arrow arrow-right" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="b2c" class=" navbar-item " href="/webapi/b2c/overview/about/#article">
                                        Overview
                                    </a><a id="b2c" class=" navbar-item " href="/webapi/b2c/quickstart/connect/#article">
                                        Quickstart
                                    </a><a id="b2c" class=" navbar-item " href="/webapi/b2c/monitor/about/#article">
                                        Monitor
                                    </a><a id="b2c" class=" navbar-item " href="/webapi/b2c/api-reference/specification/#article">
                                        API Reference
                                    </a></div>
                </div>
                
            
                
                <div class="navbar-item menu has-dropdown is-hoverable">
                    <a class="textnavbar navbar-link " href="/webportal/">
                        <span class="icon is-large is-white">
                            <i class="fas fa-car-side"></i>
                        </span>
                        <span class="section-name">
                            Embedded&nbsp;<br class='is-hidden-touch'>Webportal
                        </span>
                    </a>
                    <div class="navbar-dropdown" id="dropdownAPI">
                        <p href="/webportal/v1/#article" class="navbar-item dropdown-title " id="v1" onclick="navClick(document.getElementById('v1'), 'v1');">
                                <span>
                                    VERSION 1
                                </span>
                                <span>
                                    <svg class="arrow arrow-right" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="v1" class=" navbar-item " href="/webportal/v1/overview/about/#article">
                                        Overview
                                    </a><a id="v1" class=" navbar-item " href="/webportal/v1/application/quickstart/#article">
                                        Application
                                    </a><a id="v1" class=" navbar-item " href="/webportal/v1/advanced-features/mqtt/#article">
                                        Advanced Features
                                    </a><a id="v1" class=" navbar-item " href="/webportal/v1/api-reference/list/#article">
                                        API Reference
                                    </a><hr class="navbar-divider"><p href="/webportal/v2/#article" class="navbar-item dropdown-title " id="v2" onclick="navClick(document.getElementById('v2'), 'v2');">
                                <span>
                                    VERSION 2
                                </span>
                                <span>
                                    <svg class="arrow arrow-right" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="v2" class=" navbar-item " href="/webportal/v2/overview/about/#article">
                                        Overview
                                    </a><a id="v2" class=" navbar-item " href="/webportal/v2/application/quickstart/#article">
                                        Application
                                    </a><a id="v2" class=" navbar-item " href="/webportal/v2/api-reference/list/#article">
                                        API Reference
                                    </a></div>
                </div>
                
            
                
                <div class="navbar-item menu has-dropdown is-hoverable">
                    <a class="textnavbar navbar-link " href="/mobile-sdk/">
                        <span class="icon is-large is-white">
                            <i class="fas fa-mobile"></i>
                        </span>
                        <span class="section-name">
                            Mobile&nbsp;<br class='is-hidden-touch'>SDK
                        </span>
                    </a>
                    <div class="navbar-dropdown" id="dropdownAPI">
                        
                            <a id="" class=" navbar-item " href="/mobile-sdk/overview/about/#article">
                                        Overview
                                    </a><a id="" class=" navbar-item " href="/mobile-sdk/security/security-schemes/#article">
                                        Security
                                    </a><a id="" class=" navbar-item " href="/mobile-sdk/sdk-features/trips/#article">
                                        SDK Features
                                    </a><a id="" class=" navbar-item " href="/mobile-sdk/references/v2-2/#article">
                                        API Reference
                                    </a></div>
                </div>
                
            
                
            
        </div>
        <!-- SEARCH -->
        <div class="navbar-end">
            <div class="textnavbar navbar-item menu">
                <form  action="/search/" method="get">
                    <div class="field" id="search-input">
                        <p class="control has-icons-left">
                            <input type="text" class="input" id="lunrsearch_redirect" name="q" maxlength="255" value="" placeholder="Search" />
                            <span class="icon is-small is-left">
                                <i class="fas fa-search" ></i>
                            </span>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>
</nav>
<script>

// MENU FIX


var mq = window.matchMedia( "(max-width: 1088px)" );

var currentNavMenu = document.querySelector("#navbarpsa #dropdownAPI  > .dropdown-title.is-default.is-active");

var currentNavSubMenu = document.querySelectorAll("#navbarpsa #dropdownAPI  > .navbar-item.is-default-subsection");

function navClick (clickedNavMenu, id) {
    if (mq.matches) {
        if (currentNavMenu == clickedNavMenu) {
            currentNavMenu.classList.remove("is-active");
            currentNavMenu.querySelector("svg").classList.replace("arrow-down", "arrow-right");
            currentNavSubMenu.forEach(element => {
                element.style.display = "none";
            });
            currentNavSubMenu = null;
            currentNavMenu = null;
        }
        else {
            if (currentNavMenu){
                currentNavMenu.querySelector("svg").classList.replace("arrow-down", "arrow-right");
                currentNavMenu.classList.remove("is-active");
                currentNavSubMenu.forEach(element => {
                    element.style.display = "none";
                });
            }
            clickedNavMenu.querySelector("svg").classList.replace("arrow-right", "arrow-down");
            clickedNavMenu.classList.add("is-active");
            currentNavSubMenu = document.querySelectorAll("#navbarpsa #dropdownAPI  > .navbar-item#"+id+":not(.dropdown-title)");
            currentNavSubMenu.forEach(element => {
                element.style.display = "block";
            });
            currentNavMenu = clickedNavMenu;
        }
    }
}

// Display navbar is-fixed-top navbar
if (mq.matches) {
    document.getElementById("navbarpsa").classList.add("bluenavbar");
}
else {
    
    window.onscroll = function() {scrollFunction()};
    
    
    function scrollFunction() {
        if (document.body.scrollTop > 96 || document.documentElement.scrollTop > 96) {
            document.getElementById("navbarpsa").classList.add("bluenavbar");
        } else {
            document.getElementById("navbarpsa").classList.remove("bluenavbar");
        }
    } 
}
</script>

        </div>
        
    </section><section id="article" class="unboxed">

    <main><div class="unboxed-page-header">

            <div class="unboxed-page-title-container">
                
                <span>
                    <h1 class="unboxed-page-title">
                        Data Catalog
                    </h1>
                </span>

                

            </div>

            <p class="unboxed-page-subtext">
                
                    This table is a data catalog of all info available within Stellantis API for ex Groupe PSA brands (Citroën, DS, Peugeot, Opel and Vauxhall).
                
            </p>

        </div>

        <div class="content">
    <div>
        
        

<div class="content-header" >
    <div class="page-title-container"><h1 id="page-title">
        
            <span>
                Available Data
            </span>
        
        </h1>
        <div class="menu-select"> 
            <div class="select page-select">
                <select>
                            

                                
                                    
                                    

                                    <optgroup label="Overview">
                                        

                                            

                                            <option value="/connected-vehicles/about/#article" >About</option>

                                        

                                            

                                            <option value="/connected-vehicles/access-requirements/#article" >Access Requirements</option>

                                        

                                            

                                            <option value="/connected-vehicles/privacy/#article" >Privacy Settings</option>

                                        

                                            

                                            <option value="/connected-vehicles/remotes/#article" >Remotes Control</option>

                                        

                                            

                                            <option value="/connected-vehicles/monitors/#article" >Monitoring & Notification</option>

                                        

                                            

                                            <option value="/connected-vehicles/data-catalog/#article" selected>Data Catalog</option>

                                        
                                    <optgroup>
                                
                                </select>
            </div>
        </div><div class="is-flex is-justify-content-center is-align-items-baseline">
        
    
    </div></div><nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/connected-vehicles/">Connected Vehicles</a>
            </li>
            
            
            <li>
                <a href="/connected-vehicles/">Overview</a>
            </li>
            
            
            <li>
                <a href="#article" aria-current="page">
                    Data Catalog
                </a>
            </li>
        </ul>
    </nav></div>

<script>

    function selectPage(e){
        
    }

    document.querySelector(".page-select").addEventListener("change", (e) => {
        window.location.href = ""+e.target.value;
    });


</script>
        
        <div class="notification page-disclaimer">
  <strong>Note:</strong> This is an exhaustive list of data available in Stellantis API for ex Groupe PSA brands (Citroën, DS, Peugeot, Opel and Vauxhall).<br /> As explained in <a href="/connected-vehicles/access-requirements/#article">access requirements</a>, these data are available only if you subscribe to the relevant <em>Connected Vehicle Service</em> scope. <br />Be careful, data may be in different format (string, number etc.) depending on the API &amp; version.<br />
  Filtering: you can use filters to find data in this catalog. It is possible to use multiple filters together in order to create complex filtering: 
  <ul>
    <li><em>Search:</em>  The search bar allows the filter on the name, domain, description, type, unit and value.</li>
    <li><em>Checkboxes:</em>  You can check one or multiple checkbox in order to filter data available in this API version.</li>
    <li><em>Dropdown:</em> Select the domain and type of the data you want to filter.</li>
  </ul>
</div>

<div class="data-header">
  <div class="data-count"> 
    <span style="color:#102D4F;font-size:12px;font-family:Arial, Helvetica, sans-serif">
      Showing <span id="search_count"></span> results in total <span id="total_count"></span> 
    </span>
  </div>
  <div class="table-header-search-and-reset"> 
    <div class="data-header-search field ">
      <p class="control has-icons-left">
        <input class="input" type="text" placeholder="Search in table" id="data-header-search-area" onkeyup="tablesearch(this.value)" />
        <span class="icon is-small is-left">
            <i class="fas fa-search" style="color: darkgrey;"></i>
        </span>
      </p>
    </div>
    
    <button class="table-header-filter-reset" onclick="resetTabulatorFilter()">
      <span>Reset all Filters</span>
      <span class="icon ">
        <i class="fas fa-times"></i>
      </span>
    </button>
  </div>
    
  <div class="table-header-filter">

    <div class="table-header-filter-dropdown" onclick="handleFilterDropdown(this)">
      
      <span class="table-header-filter-title">
        <i class="fas fa-filter"></i>
        Filters
      </span>
      
      <span class="table-header-filter-arrow icon is-large is-white">
        <i class="fas fa-plus"></i>
        <i class="fas fa-minus"></i>
      </span>

    </div>



    
    <fieldset class="table-header-versions">
    
        <div class="table-header-api"> 
          <div class="table-header-api-title">
            <span class="tag">
              <span class="icon">
                <i class="fas fa-car-side"></i>
              </span>
              <span>
                &nbsp; WEBPORTAL
              </span>
            </span>
          </div>
          <div class="table-header-api-available"> 


            <div class="table-header-version">
              <input type="checkbox" class="api-version-checkbox" checked="true" id="webportal_v1" name="api" value="webportal_v1" />
              <label>Webportal v1</label>
            </div>
            <div class="table-header-version">
              <input type="checkbox" class="api-version-checkbox" checked="true" id="webportal_v2" name="api" value="webportal_v2" />
              <label>Webportal v2</label>
            </div>
          </div>            
        </div>



      <div class="table-header-api">
      
        <div class="table-header-api-title">
          <span class="tag">
            <span class="icon">
              <i class="fas fa-cloud"></i>
            </span>
            <span>
              &nbsp; WEB API
            </span>
          </span>
        </div>

        <div class="table-header-api-available">
          <div class="table-header-version">
            <input type="checkbox" class="api-version-checkbox" checked="true" id="webapi_b2b_v2" name="api" value="webapi_b2b_v2" />
            <label>Web API B2B v2</label>
          </div>
          <div class="table-header-version">
            <input type="checkbox" class="api-version-checkbox" checked="true" id="webapi_b2b_v3" name="api" value="webapi_b2b_v3" />
            <label>Web API B2B v3</label>
          </div>
          <div class="table-header-version">
            <input type="checkbox" class="api-version-checkbox" checked="true" id="webapi_b2c_v4" name="api" value="webapi_b2c_v4" />
            <label>Web API B2C v4</label>
          </div>
        </div> 
      
      </div>

    </fieldset>

  </div>


</div>

<div id="data-catalog">
</div>

<script>
var currentSearchTerm;
function tablesearch(searchInput) {

  table.removeFilter([
      {field:"name",type:"!=",value:""},
      [
        {field:"name", type:"like", value:currentSearchTerm},
        {field:"domain", type:"like", value:currentSearchTerm},
        {field:"description", type:"like", value:currentSearchTerm}, 
        {field:"type", type:"like", value:currentSearchTerm}, 
        {field:"unit_or_value", type:"like", value:currentSearchTerm},
      ]
  ]);

  currentSearchTerm = searchInput;

  table.addFilter([
    {field:"name",type:"!=",value:""},
    [
      {field:"name", type:"like", value:searchInput},
      {field:"domain", type:"like", value:searchInput},
      {field:"description", type:"like", value:searchInput}, 
      {field:"type", type:"like", value:searchInput}, 
      {field:"unit_or_value", type:"like", value:searchInput}, 
      {field:"step", type:"like", value:searchInput}, 
      {field:"update", type:"like", value:searchInput},
      {field:"webportal_v1", type:"like", value:searchInput},
      {field:"webportal_v2", type:"like", value:searchInput},
      {field:"webapi_b2b_v2", type:"like", value:searchInput},
      {field:"webapi_b2b_v3", type:"like", value:searchInput},
      {field:"webapi_b2c_v4", type:"like", value:searchInput}
    ]
]);
}

const domain_categories = {
  alert: "fas fa-exclamation-circle",
  collision: "fas fa-car-crash",
  location: "fas fa-compass",
  maitenance: "fas fa-tools",
  monitor: "fas fa-bell",
  picture: "fas fa-image",
  remote: "fas fa-satellite-dish",
  telemetrie: "fas fa-chart-bar",
  trip: "fas fa-route",
  vehicle_info: "fas fa-info",
  HMI: "fas fa-car-side",
}

const specification_page = {
  webportal: {
    v1: "/webportal/v1/api-reference/",
    v2: "/webportal/v2/api-reference/",
  },
  webapi: {
    v2: "/webapi/b2b/api-reference-v2/specification/",
    v3: "/webapi/b2b/api-reference-v3/specification/",
    v4: "/webapi/b2c/api-reference/specification/",
  }
}


function taggify (api, link, tagShortText) {
  if (link) {
    var appendUrl;
    api == "webportal" ? appendUrl = ".html#article" : appendUrl = "";
    var tagLink = 
      "<a href='"  + specification_page[api][tagShortText] + link + appendUrl + "' target='_blank' class='tag data-item-available is-link'>"+
        "<span> " + tagShortText +  "&nbsp; </span>"+
      "</a>";
    return tagLink;
  }
  else {
    var tagNotLink = 
    "<span class='tag'>"+
        "<span>"+ 
          tagShortText+
        "</span>"+
     "</span>";
    return tagNotLink;
  }
}

function taggifyWebportal(v1, v2){ 
  if(!v1 && !v2 ){
    return (
      "<div class='control'>"+
          "<div class='tags has-addons n-a'>"+
            "<span class='tag is-info'>" +
              "<span class='icon'>"+ 
                "<i class='fas fa-car-side'></i>"+
              "</span>"
              +"<span class='availability-name'>Webportal</span>"+
            "</span>"+
            "<span class='tag data-item-available is-danger'><span>n/a</span></span>"+
          "</div>"+
      "</div>"
    )}
  else{
    var tagAddonV1 = "";
    var tagAddonV2 = "";

    if (v1) {
      tagAddonV1 = taggify("webportal", v1, "v1");
    }
    if (v2) {
      tagAddonV2 = taggify("webportal", v2, "v2");
    }
    var tagAddon = 
      "<div class='control'>"+
          "<div class='tags has-addons available'>"+
            "<span class='tag is-info'>" +
              "<span class='icon'>"+ 
                "<i class='fas fa-car-side'></i>"+
              "</span>"
              +"<span class='availability-name'>Webportal</span>"+
            "</span>"+
            tagAddonV1+ 
            tagAddonV2+ 
          "</div>"+
      "</div>";
    return tagAddon;
  }
};


function taggifyWebapi(v2, v3, v4){ 
  if(!v2 && !v3 && !v4){
    return (
      "<div class='control'>"+
          "<div class='tags has-addons n-a'>"+
            "<span class='tag is-info'>" +
              "<span class='icon'>"+ 
                "<i class='fas fa-cloud'></i>"+
              "</span>"
              +"<span class='availability-name'>Web API</span>"+
            "</span>"+
            "<span class='tag data-item-available is-danger'><span>n/a</span></span>"+
          "</div>"+
      "</div>"
    )}
  else{
    var tagAddonV2 = "";
    var tagAddonV3 = "";
    var tagAddonV4 = "";
    if (v2) {
      tagAddonV2 = taggify("webapi", v2, "v2");
    }
    if (v3) {
      tagAddonV3 = taggify("webapi", v3, "v3");
    }
    if (v4) {
      tagAddonV4 = taggify("webapi", v4, "v4");
    }
    var tagAddon = 
      "<div class='control'>"+
          "<div class='tags has-addons available'>"+
            "<span class='tag is-info'>" +
              "<span class='icon'>"+ 
                "<i class='fas fa-cloud'></i>"+
              "</span>"
              +"<span class='availability-name'>Web API</span>"+
            "</span>"+
            tagAddonV2+ 
            tagAddonV3+ 
            tagAddonV4+ 
          "</div>"+
      "</div>";
    return tagAddon;
  }
};


function codify (text) {
  if (text.includes("`")) {
    var textEnum = text.replace(/(`\w+`)/g, function(match) {
      return "<code class='highlighter-rouge'> '" + match.slice(1, -1) + "'</code>"
    })
    return "<code class='highlighter-rouge'><span style='font-weight:500'>Unit/Value:</span> [</code>"+ textEnum + "<code class='highlighter-rouge'>]</code>";
  }
  else {
    return "<code class='highlighter-rouge'><span style='font-weight:500'>Unit/Value:</span> "+ text +"</code>"
  }  
}



var currentRow;
var highlightRow = function(e, row){
  var rowElement = row.getElement();
  if (rowElement == currentRow) {
    currentRow.classList.remove("data-item-highlighted");
    currentRow = null;
  }
  else {
    if (currentRow) {
      currentRow.classList.remove("data-item-highlighted");
    }
    currentRow = rowElement;
    currentRow.classList.add("data-item-highlighted");
  }
}

var table = new Tabulator("#data-catalog", {
	ajaxURL:"https://developer.groupe-psa.io/assets/data-catalog-table.json",
  ajaxLoaderLoading:"<progress class='progress is-medium is-dark' max='100'>45%</progress>",
	movableColumns:false,
	resizableRows:false, 
  resizableColumns:false, 
  selectable:false,
  layout:"fitColumns",
  headerSort: false,
  rowClick: highlightRow,
  dataFiltered: function(filters, rows) {
    var el = document.getElementById("search_count");
    el.innerHTML = rows.length;
  },
  dataLoaded: function(data) {
    var el = document.getElementById("total_count");
    el.innerHTML = data.length;
  },
  columns:
    [
      
      {title:"Domain", field:"domain", cssClass:"column-title", headerFilter:"select", headerFilterParams:{values: { "alert":"Alert", "collision":"Collision", "location" : "Location" , "maitenance" : "Maintenance" , "monitor": "Monitor" , "picture": "Picture", "remote":"Remote", "telemetrie":"Telemetrie", "trip": "Trip" , "vehicle_info": "Vehicle Info" , "HMI":"HMI"}}, headerFilterPlaceholder:"Domain"},
      
      {title:"Type", field:"type", cssClass:"column-title",editor:"input", headerFilter:"select", headerFilterParams:{values: true}, headerFilterPlaceholder:"Type"},
    ],
    rowFormatter:function(row){
        var element = row.getElement(),
        data = row.getData(),
        cellContents,
        itemCategorieLogo = domain_categories[data.domain],
        elementWebportal = taggifyWebportal(data.webportal_v1, data.webportal_v2),
        elementWebapi = taggifyWebapi(data.webapi_b2b_v2, data.webapi_b2b_v3, data.webapi_b2c_v4),
        elementType = taggify(false, false, data.type),
        elementUnitValue = codify(data.unit_or_value),
        elementWebapi_v2,
        elementWebapi_v3,
        elementWebapi_v4,
        elementWeportal_v1,
        elementWeportal_v2;

        //clear current row data
        while(element.firstChild) element.removeChild(element.firstChild);

        // create new row data
        cellContents = 
          
          "<div class='data-item-category'>"+
            "<span title='API Domain: "+ data.domain.replace("_", " ") +"' class='icon is-large'>"+
              "<i class='fa "+ itemCategorieLogo +"'></i>"+
            "</span>"+
            "<span class='data-item-domain-name'>" + data.domain.replace("vehicle_info", "Vechicle<br>Info") + "</span>"+
          "</div>"+

          "<div class='data-item-content'>"+

            "<div class='data-item-info'>"+
              "<div class='data-item-title'>" + data.name + "</div>"+
              "<div class='data-item-description'>"+ data.description +"</div>"+
            "</div>"+
            "<div  class='data-item-technical'>"+
              "<div class='data-item-type'>"+
                "<span>" + elementType + "</span>"+
              "</div>"+
              "<div class='data-item-unit_value'>"+
                "<span>" + elementUnitValue + "</span>"+
              "</div>"+
            "</div>"+
            "<nav class='data-item-availability'>"+
              "<div class='data-item-links'>"+
                "<div class='field is-grouped is-grouped-multiline'>" +
                  elementWebportal+
                  elementWebapi +
                "</div>"+
              "</div>"+
            "</nav>"+
            "</div>"+
            "<div class='data-item-expand-arrow'>"+
              "<span class='icon is-medium'>"+
                "<i class='fa fa-2x fa-angle-right'></i>"+
              "</span>"+
            "</div>";

        var dataItemElement = document.createElement("div");
        dataItemElement.classList.add("data-item");
        dataItemElement.innerHTML = cellContents ;

        element.append(dataItemElement);
    },
});



const searchField = document.getElementById("data-header-search-area");

// ------- CHECKBOXES FILTER ---------
const checkboxesNotFiltered = {
  "webportal_v1": "-",
  "webportal_v2": "-",
  "webapi_b2b_v2": "#",
  "webapi_b2b_v3": "#",
  "webapi_b2c_v4": "#"
}
var checkboxesState = {
  "webportal_v1": "-",
  "webportal_v2": "-",
  "webapi_b2b_v2": "#",
  "webapi_b2b_v3": "#",
  "webapi_b2c_v4": "#"
},
currentFilter = false;

document.addEventListener("DOMContentLoaded",  function() {
  checkboxesElements = document.querySelectorAll(".api-version-checkbox");
  checkboxesElements.forEach(checkbox => {
    checkbox.addEventListener('change', function() {
      if (currentFilter) { table.removeFilter(currentFilter) }
      if (this.checked) {
        checkboxesState[this.value] = checkboxesNotFiltered[this.value];
      } else {
        checkboxesState[this.value] = "@@@@@@";
      }
      currentFilter = 
        [{field:"name",type:"!=",value:""},
          [
            {field:"webportal_v1", type:"like", value:checkboxesState["webportal_v1"]},
            {field:"webportal_v2", type:"like", value:checkboxesState["webportal_v2"]},
            {field:"webapi_b2b_v2", type:"like", value:checkboxesState["webapi_b2b_v2"]},
            {field:"webapi_b2b_v3", type:"like", value:checkboxesState["webapi_b2b_v3"]},
            {field:"webapi_b2c_v4", type:"like", value:checkboxesState["webapi_b2c_v4"]}
          ]
        ]
      table.addFilter(currentFilter)
    });
  });
})

// ------- end CHECKBOXES FILTER ---------

function handleFilterDropdown(dropdown) {
  if (dropdown.classList.contains("table-header-filter-displayed")) {
    document.querySelector("#data-catalog.tabulator .tabulator-header").style.height = "0";
    dropdown.classList.remove("table-header-filter-displayed");
    
  }
  else  {
    document.querySelector("#data-catalog.tabulator .tabulator-header").style.height = "auto";
    dropdown.classList.add("table-header-filter-displayed");
  }
}

function resetTabulatorFilter() {
  document.querySelectorAll(".table-header-version input").forEach(e => {
    e.checked = true;
  });
  searchField.placeholder = "Search in table";
  searchField.value = null;
  table.clearFilter(true);
}

const queryString = window.location.search;
const urlParams = new URLSearchParams(queryString);
var search = urlParams.get('search')
var categories = urlParams.get('removed_categories');



if (search) {
  searchField.placeholder = search;
  search = search.split(",").map(function(item) {return parseInt(item, 10);});;
  table.addFilter("ID", "in", search);
}
if (categories) {
  window.addEventListener("DOMContentLoaded", function () {
      categories = categories.split(",");
      const dropdownElement = document.querySelector(".table-header-filter-dropdown");
      categories.forEach(category => {
        if (categoryElement = document.querySelector("#"+category)) {
          categoryElement.click();
        }
      });
      if (categories != false) {
        handleFilterDropdown(dropdownElement);
      }
  });
}

</script>


    </div>
</div>

    </main>

</section><footer class="footer">
    <div class="footer-items">
        <!-- THIS WEBSITE -->
        <div class="footer-item">
        <p class="footer-heading">THIS WEBSITE</p>
        <div class="footer-links">
            <a class="footer-link" href="/changelog/#page-title">
            <span class="icon is-white">
                <i class="fas fa-code-branch"></i>
            </span>
            Website v11.0.0
            </a>
            <a class="footer-link" href="/credits/">
            <span class="icon is-white">
                <i class="fas fa-paperclip"></i>
            </span>
                Credits</a>
            <a class="footer-link" href="/contact-us/">
            <span class="icon is-white">
                <i class="far fa-envelope"></i>
            </span>
            <span>
                Contact Us!
            </span>
            </a>
            <span class="footer-link">
            <span class="icon is-white">
                <i class="far fa-copyright"></i>
            </span>
            Stellantis 2023
            </span>
        </div>
        </div>
        <!-- /THIS WEBSITE -->
        <!-- APIs -->
        <div class="footer-item">
        <p class="footer-heading">API</p>
        <div class="footer-links">
            <a class="footer-link" href="/webapi/b2b/">API Fleet Owner</a>
            <a class="footer-link" href="/webapi/b2c/">API End User</a>
            <a class="footer-link" href="/webportal/v1/">Webportal v1</a>
            <a class="footer-link" href="/webportal/v2/">Webportal v2</a>
            <a class="footer-link" href="/mobile-sdk/">Mobile SDK</a>
        </div>
        </div>
        <!-- /APIs -->
        <!-- OTHER WEBSITES -->
        <div class="footer-item">
        <p class="footer-heading">OUR WEBSITES</p>
        <div class="footer-links">
            <a class="footer-link" href="https://www.stellantis.com/">Stellantis</a>
            <a class="footer-link" href="https://www.groupe-psa.com/en/">PSA Groupe</a>
            <a class="footer-link" href="https://developer.groupe-psa.com/">API Subscription</a>
            <a class="footer-link" href="https://www.free2move.com/">Free 2 Move</a>
        </div>
        </div>
        <!-- /OTHER WEBSITES -->
        <!-- SOCIAL -->
        <div class="footer-item">
        <p class="footer-heading">SOCIAL</p>
        <div class="footer-links">
            <a class="footer-link" href="https://twitter.com/stellantis" target="_blank">
            <span class="icon is-white">
                <i class="fab fa-twitter"></i>
            </span>
            <span>
                Twitter
            </span>
            </a>
            <a class="footer-link" href="https://www.linkedin.com/company/stellantis" target="_blank">
            <span class="icon is-white">
                <i class="fab fa-linkedin "></i>
            </span>
            <span>
                LinkedIn
            </span>
            </a>
            <a class="footer-link" href="https://www.facebook.com/Stellantis/" target="_blank">
            <span class="icon is-white">
                <i class="fab fa-facebook "></i>
            </span>
            <span>
                Facebook
            </span>
            </a>
            <a class="footer-link" href="https://www.youtube.com/c/Stellantis_official/" target="_blank">
            <span class="icon is-white">
                <i class="fab fa-youtube  is-white"></i>
            </span>
            <span>
                YouTube
            </span>
            </a>
            <a class="footer-link" href="https://github.com/GroupePSA" target="_blank">
            <span class="icon is-white">
                <i class="fab fa-github  is-white"></i>
            </span>
            <span>
                GitHub
            </span>
            </a>            
        </div>
        </div>
        <!-- /SOCIAL -->
    </div>
    </footer></body>
</html>
