<!DOCTYPE html>
<html lang="en">
<head>
    <title>Set Up | Monitor | Webapi B2C</title>
    <!-- OPEN GRAPH -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Set Up | Monitor | Webapi B2C">
    <meta property="og:url" content="https://developer.groupe-psa.io/webapi/b2c/monitor/set-up/">
    <meta property="og:image" content="https://developer.groupe-psa.io/assets/images/logo-groupe-psa.jpg" />
    <meta property="og:site_name" content="Stellantis for Developers">
    <meta property="og:description" content="Learn how to set-up monitors in Stellantis End User API for ex Groupe PSA brands (Citroën, DS, Peugeot, Opel and Vauxhall).">
    <link rel="icon" type="image/png" href="/favicon.png" />
    <!-- TWITTER CARD -->
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:title" content="Set Up | Monitor | Webapi B2C">
    <meta name="twitter:description" content="Learn how to set-up monitors in Stellantis End User API for ex Groupe PSA brands (Citroën, DS, Peugeot, Opel and Vauxhall).">
    <meta name="twitter:card" content="summary">
    <meta itemprop="description" name="description" content="Learn how to set-up monitors in Stellantis End User API for ex Groupe PSA brands (Citroën, DS, Peugeot, Opel and Vauxhall)." />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <link rel="canonical" href="https://developer.groupe-psa.io/webapi/b2c/monitor/set-up/">
    <!-- MAIN CSS -->
    <link rel="stylesheet" href="/assets/css/main.css">
    <!-- FONTs -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"><link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;500;700&family=Montserrat:wght@400;500;600;700&family=Roboto:wght@300;400;500&family=Lora:ital,wght@0,400;0,500;1,400;1,500&display=swap" rel="stylesheet">
    <!-- COMPONENTs CSS -->
    <link rel="stylesheet" href="/assets/css/modules/api-reference.css">
    <!-- LIBRARIEs --><!-- SCRIPTs-->
    <script src="/assets/js/dropdown.js"></script>
    <script src="/assets/js/main.js"></script>

    <!-- Matomo-->
    <script type="text/javascript" language="Javascript" src="/assets/js/tag_piwik_PG4D_DOC_id_550.js"></script>
    <!-- End Matomo Code -->

<body>
    <section class="hero hero-header is-medium hero_api">
        <div class="hero-head">
            <nav aria-label="main navigation" class="navbar is-fixed-top" id="navbarpsa" role="navigation">
    <div class="navbar-brand">
        <a class="navbar-item" href="/">
            <div id="logoPG4D">
                <img alt="logo-pg4d" src="/assets/images/logo-pg4d.svg">
            </div>
        </a>
        <a aria-expanded="false" aria-label="menu" class="navbar-burger" data-target="navMenu" role="button">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>
    <div class="navbar-menu" id="navMenu">
        <div class="navbar-start">
            
                
                <div class="navbar-item menu has-dropdown is-hoverable">
                    <a class="textnavbar navbar-link " href="/connected-vehicles/">
                        <span class="icon is-large is-white">
                            <i class="fas fa-wifi"></i>
                        </span>
                        <span class="section-name">
                            Connected&nbsp;<br class='is-hidden-touch'>Vehicles
                        </span>
                    </a>
                    <div class="navbar-dropdown" id="dropdownAPI">
                        <p href="/connected-vehicles/#article" class="navbar-item dropdown-title " id="overview" onclick="navClick(document.getElementById('overview'), 'overview');">
                                <span>
                                    OVERVIEW
                                </span>
                                <span>
                                    <svg class="arrow arrow-right" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="overview" class=" navbar-item " href="/connected-vehicles/about/#article">
                                            About
                                        </a>
                                    <a id="overview" class=" navbar-item " href="/connected-vehicles/access-requirements/#article">
                                            Access Requirements
                                        </a>
                                    <a id="overview" class=" navbar-item " href="/connected-vehicles/privacy/#article">
                                            Privacy Settings
                                        </a>
                                    <a id="overview" class=" navbar-item " href="/connected-vehicles/remotes/#article">
                                            Remotes Control
                                        </a>
                                    <a id="overview" class=" navbar-item " href="/connected-vehicles/monitors/#article">
                                            Monitoring & Notification
                                        </a>
                                    <a id="overview" class=" navbar-item " href="/connected-vehicles/data-catalog/#article">
                                            Data Catalog
                                        </a>
                                    </div>
                </div>
                
            
                
                <div class="navbar-item menu has-dropdown is-hoverable">
                    <a class="textnavbar navbar-link is-active" href="/webapi/">
                        <span class="icon is-large is-white">
                            <i class="fas fa-cloud"></i>
                        </span>
                        <span class="section-name">
                            Web&nbsp;<br class='is-hidden-touch'>API
                        </span>
                    </a>
                    <div class="navbar-dropdown" id="dropdownAPI">
                        <p href="/webapi/b2b/#article" class="navbar-item dropdown-title " id="b2b" onclick="navClick(document.getElementById('b2b'), 'b2b');">
                                <span>
                                    FLEET OWNER
                                </span>
                                <span>
                                    <svg class="arrow arrow-right" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="b2b" class=" navbar-item " href="/webapi/b2b/overview/about/#article">
                                        Overview
                                    </a><a id="b2b" class=" navbar-item " href="/webapi/b2b/quickstart/authentication/#article">
                                        Quickstart
                                    </a><a id="b2b" class=" navbar-item " href="/webapi/b2b/monitor/about/#article">
                                        Monitor
                                    </a><a id="b2b" class=" navbar-item " href="/webapi/b2b/remote/about/#article">
                                        Remote
                                    </a><a id="b2b" class=" navbar-item " href="/webapi/b2b/api-reference-v2/specification/#article">
                                        API Reference v2
                                    </a><a id="b2b" class=" navbar-item " href="/webapi/b2b/api-reference-v3/specification/#article">
                                        API Reference v3
                                    </a><hr class="navbar-divider"><p href="/webapi/b2c/#article" class="navbar-item dropdown-title is-default is-active" id="b2c" onclick="navClick(document.getElementById('b2c'), 'b2c');">
                                <span>
                                    END USER
                                </span>
                                <span>
                                    <svg class="arrow arrow-down" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="b2c" class=" is-default-subsection  navbar-item " href="/webapi/b2c/overview/about/#article">
                                        Overview
                                    </a><a id="b2c" class=" is-default-subsection  navbar-item " href="/webapi/b2c/quickstart/connect/#article">
                                        Quickstart
                                    </a><a id="b2c" class=" is-default-subsection  navbar-item is-active" href="/webapi/b2c/monitor/about/#article">
                                        Monitor
                                    </a><a id="b2c" class=" is-default-subsection  navbar-item " href="/webapi/b2c/api-reference/specification/#article">
                                        API Reference
                                    </a></div>
                </div>
                
            
                
                <div class="navbar-item menu has-dropdown is-hoverable">
                    <a class="textnavbar navbar-link " href="/webportal/">
                        <span class="icon is-large is-white">
                            <i class="fas fa-car-side"></i>
                        </span>
                        <span class="section-name">
                            Embedded&nbsp;<br class='is-hidden-touch'>Webportal
                        </span>
                    </a>
                    <div class="navbar-dropdown" id="dropdownAPI">
                        <p href="/webportal/v1/#article" class="navbar-item dropdown-title " id="v1" onclick="navClick(document.getElementById('v1'), 'v1');">
                                <span>
                                    VERSION 1
                                </span>
                                <span>
                                    <svg class="arrow arrow-right" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="v1" class=" navbar-item " href="/webportal/v1/overview/about/#article">
                                        Overview
                                    </a><a id="v1" class=" navbar-item " href="/webportal/v1/application/quickstart/#article">
                                        Application
                                    </a><a id="v1" class=" navbar-item " href="/webportal/v1/advanced-features/mqtt/#article">
                                        Advanced Features
                                    </a><a id="v1" class=" navbar-item " href="/webportal/v1/api-reference/list/#article">
                                        API Reference
                                    </a><hr class="navbar-divider"><p href="/webportal/v2/#article" class="navbar-item dropdown-title " id="v2" onclick="navClick(document.getElementById('v2'), 'v2');">
                                <span>
                                    VERSION 2
                                </span>
                                <span>
                                    <svg class="arrow arrow-right" version="1.1" viewBox="0 0 24 24" x="0" xmlns="http://www.w3.org/2000/svg" y="0" aria-hidden="true"><polygon points="17.3 8.3 12 13.6 6.7 8.3 5.3 9.7 12 16.4 18.7 9.7 "></polygon>
                                    </svg>
                                </span>
                            </p>
                            
                            <a id="v2" class=" navbar-item " href="/webportal/v2/overview/about/#article">
                                        Overview
                                    </a><a id="v2" class=" navbar-item " href="/webportal/v2/application/quickstart/#article">
                                        Application
                                    </a><a id="v2" class=" navbar-item " href="/webportal/v2/api-reference/list/#article">
                                        API Reference
                                    </a></div>
                </div>
                
            
                
                <div class="navbar-item menu has-dropdown is-hoverable">
                    <a class="textnavbar navbar-link " href="/mobile-sdk/">
                        <span class="icon is-large is-white">
                            <i class="fas fa-mobile"></i>
                        </span>
                        <span class="section-name">
                            Mobile&nbsp;<br class='is-hidden-touch'>SDK
                        </span>
                    </a>
                    <div class="navbar-dropdown" id="dropdownAPI">
                        
                            <a id="" class=" navbar-item " href="/mobile-sdk/overview/about/#article">
                                        Overview
                                    </a><a id="" class=" navbar-item " href="/mobile-sdk/security/security-schemes/#article">
                                        Security
                                    </a><a id="" class=" navbar-item " href="/mobile-sdk/sdk-features/trips/#article">
                                        SDK Features
                                    </a><a id="" class=" navbar-item " href="/mobile-sdk/references/v2-2/#article">
                                        API Reference
                                    </a></div>
                </div>
                
            
                
            
        </div>
        <!-- SEARCH -->
        <div class="navbar-end">
            <div class="textnavbar navbar-item menu">
                <form  action="/search/" method="get">
                    <div class="field" id="search-input">
                        <p class="control has-icons-left">
                            <input type="text" class="input" id="lunrsearch_redirect" name="q" maxlength="255" value="" placeholder="Search" />
                            <span class="icon is-small is-left">
                                <i class="fas fa-search" ></i>
                            </span>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>
</nav>
<script>

// MENU FIX


var mq = window.matchMedia( "(max-width: 1088px)" );

var currentNavMenu = document.querySelector("#navbarpsa #dropdownAPI  > .dropdown-title.is-default.is-active");

var currentNavSubMenu = document.querySelectorAll("#navbarpsa #dropdownAPI  > .navbar-item.is-default-subsection");

function navClick (clickedNavMenu, id) {
    if (mq.matches) {
        if (currentNavMenu == clickedNavMenu) {
            currentNavMenu.classList.remove("is-active");
            currentNavMenu.querySelector("svg").classList.replace("arrow-down", "arrow-right");
            currentNavSubMenu.forEach(element => {
                element.style.display = "none";
            });
            currentNavSubMenu = null;
            currentNavMenu = null;
        }
        else {
            if (currentNavMenu){
                currentNavMenu.querySelector("svg").classList.replace("arrow-down", "arrow-right");
                currentNavMenu.classList.remove("is-active");
                currentNavSubMenu.forEach(element => {
                    element.style.display = "none";
                });
            }
            clickedNavMenu.querySelector("svg").classList.replace("arrow-right", "arrow-down");
            clickedNavMenu.classList.add("is-active");
            currentNavSubMenu = document.querySelectorAll("#navbarpsa #dropdownAPI  > .navbar-item#"+id+":not(.dropdown-title)");
            currentNavSubMenu.forEach(element => {
                element.style.display = "block";
            });
            currentNavMenu = clickedNavMenu;
        }
    }
}

// Display navbar is-fixed-top navbar
if (mq.matches) {
    document.getElementById("navbarpsa").classList.add("bluenavbar");
}
else {
    
    window.onscroll = function() {scrollFunction()};
    
    
    function scrollFunction() {
        if (document.body.scrollTop > 96 || document.documentElement.scrollTop > 96) {
            document.getElementById("navbarpsa").classList.add("bluenavbar");
        } else {
            document.getElementById("navbarpsa").classList.remove("bluenavbar");
        }
    } 
}
</script>

        </div>
        
        <div class="hero-body">
            <div class="container">
            
            <h1 class="title section-title">WEB API</h1>
            <h2 class="title">for end-users</h2>
            
            </div>
        </div>
        
    </section><section id="article">
  <div class="columns is-gapless">
    <div class="column is-narrow is-hidden-mobile"> 
      
      <aside class="menu">
        <span class="menu-title">
          
          
          
          
          
          
          
          Web API
          
          
          
          
          
          - End User
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
        </span>
        <p href="/webapi/b2c/overview/" class='menu-label has-list' id="Overview">
          <span>
            Overview
          </span>
        </p>
        <ul class="menu-list">
          <li>
            <a  href="/webapi/b2c/overview/about/#article">
              About 
            </a>
          </li>
          <li>
            <a  href="/webapi/b2c/overview/standards/#article">
              Standards 
            </a>
          </li>
          <li>
            <a  href="/webapi/b2c/overview/errors/#article">
              Errors & Rate Limit 
            </a>
          </li>
          
        </ul>
        
        <p href="/webapi/b2c/quickstart/" class='menu-label has-list' id="Quickstart">
          <span>
            Quickstart
          </span>
        </p>
        <ul class="menu-list">
          <li>
            <a  href="/webapi/b2c/quickstart/connect/#article">
              Connect 
            </a>
          </li>
          <li>
            <a  href="/webapi/b2c/quickstart/examples/#article">
              Examples 
            </a>
          </li>
          
        </ul>
        
        <p href="/webapi/b2c/monitor/" class='menu-label has-list is-active' id="Monitor">
          <span>
            Monitor
          </span>
        </p>
        <ul class="menu-list">
          <li>
            <a  href="/webapi/b2c/monitor/about/#article">
              About 
            </a>
          </li>
          <li>
            <a class="is-active" href="/webapi/b2c/monitor/set-up/#article">
              Set Up 
            </a>
          </li>
          <li>
            <a  href="/webapi/b2c/monitor/retry-policy/#article">
              Retry Policy 
            </a>
          </li>
          <li>
            <a  href="/webapi/b2c/monitor/webhook/#article">
              Webhook References 
            </a>
          </li>
          
        </ul>
        
        <p href="/webapi/b2c/api-reference/" class='menu-label has-list' id="API Reference">
          <span>
            API Reference
          </span>
        </p>
        <ul class="menu-list">
          <li>
            <a  href="/webapi/b2c/api-reference/specification/#article">
              Specification 
            </a>
          </li>
          
        </ul>
        </aside>
      
    </div>
    <main class="column content-column">
      <div class="content">
        

<div class="content-header" >
    <div class="page-title-container"><h1 id="page-title">
        
            <span>
                
                    Monitor - 
                
                    Set Up
            </span>
        
        </h1>
        <div class="menu-select"> 
            <div class="select page-select">
                <select>
                            
                                    

                                        
                                            

                                                <optgroup label="Overview">
                                                    

                                                        

                                                        <option 
                                                            value="/webapi/b2c/overview/about/#article" 
                                                            >
                                                                About
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/webapi/b2c/overview/standards/#article" 
                                                            >
                                                                Standards
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/webapi/b2c/overview/errors/#article" 
                                                            >
                                                                Errors & Rate Limit
                                                        </option>

                                                    
                                                </optgroup>
                                            
                                        
                                            

                                                <optgroup label="Quickstart">
                                                    

                                                        

                                                        <option 
                                                            value="/webapi/b2c/quickstart/connect/#article" 
                                                            >
                                                                Connect
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/webapi/b2c/quickstart/examples/#article" 
                                                            >
                                                                Examples
                                                        </option>

                                                    
                                                </optgroup>
                                            
                                        
                                            

                                                <optgroup label="Monitor">
                                                    

                                                        

                                                        <option 
                                                            value="/webapi/b2c/monitor/about/#article" 
                                                            >
                                                                About
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/webapi/b2c/monitor/set-up/#article" 
                                                            selected>
                                                                Set Up
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/webapi/b2c/monitor/retry-policy/#article" 
                                                            >
                                                                Retry Policy
                                                        </option>

                                                    

                                                        

                                                        <option 
                                                            value="/webapi/b2c/monitor/webhook/#article" 
                                                            >
                                                                Webhook References
                                                        </option>

                                                    
                                                </optgroup>
                                            
                                        
                                            

                                                <optgroup label="API Reference">
                                                    

                                                        

                                                        <option 
                                                            value="/webapi/b2c/api-reference/specification/#article" 
                                                            >
                                                                Specification
                                                        </option>

                                                    
                                                </optgroup>
                                            
                                        </select>
            </div>
        </div><div class="is-flex is-justify-content-center is-align-items-baseline">
        
        <a 
            
            href="https://github.com/GroupePSA/groupepsa.github.io/tree/master/webapi/content/webapi-monitor_setup.md"
             
            class="button is-small edit-page icon-button is-outlined is-pulled-right" 
            target="_blank" 
            title="Edit this page on GitHub">
                <span class="icon">
                    <i  class="fab fa-github"></i> 
                </span>
                <span class="edit-page-text">
                    Edit
                </span>
        </a>
        
    
    </div></div><nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/webapi/">Web API</a>
            </li>
            
            
            <li>
                <a href="/webapi/b2c/">End User</a>
            </li>
            
            
            <li>
                <a href="/webapi/b2c/monitor/">Monitor</a>
            </li>
            
            <li>
                <a href="#article" aria-current="page">
                    Set Up
                </a>
            </li>
        </ul>
    </nav>
    <div class="notification page-disclaimer">
      <strong>Info:</strong> Stellantis End User API for ex Groupe PSA brands (Citroën, DS, Peugeot, Opel and Vauxhall) is <strong>not publicly available</strong> yet.
    </div>
    </div>

<script>

    function selectPage(e){
        
    }

    document.querySelector(".page-select").addEventListener("change", (e) => {
        window.location.href = ""+e.target.value;
    });


</script>
        
        <h1 id="post-monitor-request">
        <span class="bd-anchor-name">
        
          Post Monitor Request
                  </span>
 <a href="#post-monitor-request" class="bd-anchor-link">#</a>
        
        
      </h1>
    
      <h2 id="1-overview">
        <span class="bd-anchor-name">
        
          1. Overview
                  </span>
 <a href="#1-overview" class="bd-anchor-link">#</a>
        
        
      </h2>

<p>Here is an overview of an <strong>HTTP request</strong> intended to create a monitor.</p>

<p>We will then take a closer look to the <strong>body request</strong>.</p>

<div id="-" class="api-content-code api-code-content-webapi" style="margin-bottom: 1.5rem;"><div class="api-code-header">

  

    <a class="api-code-header-text api-code-header-subscribe" href="/webapi/b2c/api-reference/specification/#operation/createVehicleVehicleMonitor">
      POST |&nbsp;https://api.groupe-psa.com/connectedcar/v4<br />
        <strong>/user/vehicles/{id}/monitors</strong></a>
  </div>
  <div class="code-block first-block kotlin">
    <div class="api-code-header">
      <div class="api-code-tabs-container">
        <nav class="api-code-tabs">
          <div class="api-code-tab kotlin">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-long-arrow-alt-up"></i>
            </span>
            <span class="api-code-tab-text">HTTP Request</span>
          </div>
          
          <div class="api-code-tab swift">
            <span class="api-code-tab-icon is-white">
              <i class="fas fa-code"></i>
            </span>
            <span class="api-code-tab-text">HTTP Body</span>
          </div>
          
        </nav>
      </div>
    </div>
    <div class="api-content-code-example api-content-code-example-req-kotlin">
        
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>curl <span class="se">\</span>
  <span class="nt">--POST</span> <span class="se">\</span>
  <span class="nt">--url</span> <span class="s1">'https://api.groupe-psa.com/connectedcar/v4/user/vehicles/{id}/monitors'</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'client_id=&lt;client_id&gt;'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'Authorization: Bearer &lt;access_token&gt;'</span> <span class="se">\</span>
  <span class="nt">--header</span> <span class="s1">'x-introspect-realm: &lt;realm&gt;'</span> <span class="se">\</span>
  <span class="nt">--data</span> <span class="s1">'&lt;check out HTTP body&gt;'</span> <span class="se">\</span>
</pre></td></tr></tbody></table></code></pre></div></div>


    </div>
    <div class="api-content-code-example api-content-code-example-req-swift">
      
        
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"monitor-name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscribeParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">},</span><span class="w">
  </span><span class="nl">"extendedEventParam"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nl">"triggerParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

      
    </div>
  </div>
  </div>

<p>First, we will have a look at the callback configuration: <strong>“subscribeParam”</strong> and <strong>“extendedEventParam”</strong>.</p>

<p>Then we will see how to create triggers and triggering policy for your monitors with <strong>“triggerParam”</strong>.</p>

<p>At the end we will see <strong>examples</strong> of monitor configuration.</p>
    
      <h2 id="2-callback-configuration">
        <span class="bd-anchor-name">
        
          2. Callback Configuration
                  </span>
 <a href="#2-callback-configuration" class="bd-anchor-link">#</a>
        
        
      </h2>

<p>Firstly, you have to configure your monitor to send an <strong>HTTP callback</strong> to your webhook when it is triggered.
This is the models explaining how to configure the callback:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="nl">"subscribeParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"retryPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"policy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxRetryNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nl">"retryDelay"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
         </span><span class="p">},</span><span class="w">
      </span><span class="nl">"batchNotify"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
         </span><span class="nl">"timeWindow"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"callback"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
         </span><span class="nl">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.post.callback"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My_Webhook"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"attributres"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
               </span><span class="p">{</span><span class="w">
               </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Header"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X-Vehicle_Id"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$vin"</span><span class="w">
               </span><span class="p">},</span><span class="w">
               </span><span class="p">{</span><span class="w">
               </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"Header"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"refreshEvent"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"extendedEventParam"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"vehicle.alerts"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vehicle.status"</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nl">"triggerParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>Below is a description of the JSON models explaining how to configure the callback. Please refer to <a href="/webapi/b2c/api-reference/specification">API Reference</a> models to read a full description of the callback configuration.</p>

<p><strong><a href="/webapi/b2c/api-reference/specification/#model-MonitorParameter">MonitorParameter</a></strong>: this JSON object allow you to configure your monitor callback:</p>
<ul>
  <li><strong>retryPolicy</strong>: this where you set retry policy, it’s in case your webhook has not received the callback, whatever is the reason.</li>
  <li><strong>batchNotify</strong>: you can set this object in case you need to receive notification in batch instead of one by one.</li>
  <li><strong>callback&gt;webhook</strong>: this required object is where you will set the address and name of you webhook. This is also where you can customize the HTTP notification (example: for authentication purpose).</li>
  <li><strong>refreshEvent</strong>: if the trigger is satisfied, refreshEvent define the period between two re-checking.</li>
  <li><strong>extendedEventParam</strong>: this events table allow you to send extra vehicle data in the notification.</li>
</ul>
    
      <h2 id="3-event-triggering">
        <span class="bd-anchor-name">
        
          3. Event Triggering
                  </span>
 <a href="#3-event-triggering" class="bd-anchor-link">#</a>
        
        
      </h2>
    
      <h3 id="31-triggers">
        <span class="bd-anchor-name">
        
          3.1 Triggers
                  </span>

        
        
      </h3>

<p>Let’s have a look at how to create monitor triggers.
First, you have to decide what will be the triggers of your monitor.</p>

<p>As explained before triggers can be on Zone, Time and/or Data basis.</p>
<ul>
  <li><strong>Zone</strong>: a vehicle go in/out a circle area.</li>
  <li><strong>Time</strong>: a vehicle is being used within a time interval</li>
  <li><strong>Data</strong>: choose a sensor and set a triggering when the value is: equals to/greater than/lower than/include in/or changing.</li>
</ul>

<p>Choose and configure the triggers you need as a JSON table:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="nl">"subscribeParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
   </span><span class="nl">"triggerParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"z1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"transition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Out"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"circle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"radius"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
               </span><span class="nl">"center"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.333333</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">48.866667</span><span class="w">
                  </span><span class="p">}</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"times"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="p">{</span><span class="w">
                     </span><span class="nl">"recurrence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PT14H30M"</span><span class="p">,</span><span class="w">
                     </span><span class="nl">"occurence"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nl">"day"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                        </span><span class="s2">"Mon"</span><span class="w">
                        </span><span class="p">]</span><span class="w">
                     </span><span class="p">},</span><span class="w">
                     </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PT04H30M"</span><span class="w">
                  </span><span class="p">}</span><span class="w">
               </span><span class="p">],</span><span class="w">
               </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Europe/Paris"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"o1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Vehicle.odometer"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"greaterThan"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
               </span><span class="s2">"75"</span><span class="w">
               </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"boolExp"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>For the entire documentation, look closer at [<a href="/webapi/b2c/api-reference/specification">API Reference</a>&gt;<strong>MonitorParameter&gt;triggerParam&gt;triggers</strong>. 
This is where you can find the <strong>entire list of available triggers</strong>.</p>

<div class="notification">
<strong>Deprecated:</strong> timeZoneTrigger and dataTrigger.
<p>
<em>MonitorParameter&gt;triggerParam&gt;timeZoneTrigger</em> and <em>MonitorParameter&gt;triggerParam&gt;dataTriggers</em> are deprecated according to the most up to date specification. 
</p>
<p>
This is the old way of setting a triggering policy, it'is less performant as it allows only "AND relationship" between triggers. Because of retro-compatibility purposes it's still available, but we recommend you strongly to use the new data schema.
</p>
</div>

<div class="notification">
<strong>Warning:</strong> If you are using <strong>WEB API V2</strong>, you have to use the deprecated way with timeZoneTrigger and dataTrigger.
</div>
    
      <h3 id="32-boolean-expression">
        <span class="bd-anchor-name">
        
          3.2 Boolean Expression
                  </span>

        
        
      </h3>

<p>Once you have selected your triggers, you’ll have to combine them together to create a <strong>triggering policy</strong>. To do so, you will use boolean expression. Using boolean expression allow you to have various triggering policies in one monitor.</p>

<p>Let’s see how to use this boolean expression:</p>

<blockquote>
  <p><strong>Gramar:</strong> Here is the list of available operands for monitors configuration.</p>
  <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="s">exp::= exp '&amp;' exp</span>
       <span class="s">| exp '|' exp</span>
       <span class="s">| (exp)</span>
       <span class="s">| !exp</span>
</pre></td></tr></tbody></table></code></pre></div>  </div>
  <ul>
    <li>AND: <code class="language-plaintext highlighter-rouge">exp1 &amp; exp2</code> if both conditions have to be triggered</li>
    <li>OR: <code class="language-plaintext highlighter-rouge">exp1 | exp2</code> if at least one condition have to be triggered</li>
    <li>PARENTHESIS: <code class="language-plaintext highlighter-rouge">exp1 | (exp2 &amp; exp3)</code> to prioritize an expression over another</li>
    <li>NOT: <code class="language-plaintext highlighter-rouge">!exp1</code> if the condition have not to be triggered</li>
  </ul>
</blockquote>

<p>This is an example of boolean expression, where <em>z1, z2, t1, t2, o1, o2, o3</em> are <strong>trigger names</strong> as seen before:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="nl">"subscribeParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
   </span><span class="nl">"triggerParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nl">"boolExp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"((z1 &amp; t1) | (z2 &amp; !t1) | (o1 &amp; z1) | (o2 &amp; (z1 | t2))  | (o3 &amp; (z1 | z2)))"</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>In this boolean expression, the monitor will notify your webhook in all these situations:</p>
<ul>
  <li><em>(z1 &amp; t1)</em> = <strong>z1</strong> <em>AND</em> <strong>t1</strong> are being triggered</li>
  <li><em>(z2 &amp; !t1)</em> = <strong>z2</strong> is triggered <em>AND</em> <strong>t1</strong> is <em>NOT</em> triggered</li>
  <li><em>(o1 &amp; z1)</em> = <strong>o1</strong> is triggered <em>AND</em> <strong>z1</strong> is triggered</li>
  <li><em>(o2 &amp; (z1 | t2))</em> = <strong>o2</strong> is triggered <em>AND</em> either <strong>z1</strong> <em>OR</em> <strong>t2</strong> is triggered</li>
  <li><em>(o3 &amp; (z1 | z2))</em> = <strong>o3</strong> is triggered <em>AND</em> either <strong>z1</strong> <em>OR</em> <strong>z2</strong> is triggered</li>
</ul>
    
      <h2 id="4-examples">
        <span class="bd-anchor-name">
        
          4. Examples
                  </span>
 <a href="#4-examples" class="bd-anchor-link">#</a>
        
        
      </h2>
    
      <h3 id="41-autonomy">
        <span class="bd-anchor-name">
        
          4.1 Autonomy
                  </span>

        
        
      </h3>

<p>This request ask to <strong>create</strong> an “IDF Zone monitor With Data Triggering:[vehicle.energy.electric.level]” monitor with the following parameters:</p>
<ul>
  <li>It will be <strong>refreshed</strong> every 600s if the event is still triggered.</li>
  <li>If the callback <strong>notification is not received</strong>, the request will be sent again every 120s until it’s properly delivered.</li>
  <li>The callback will be <strong>sent once</strong> 10 callback notifications are ready to be sent or 300s after triggering.</li>
  <li>The callback will be <strong>sent to</strong> your <code class="language-plaintext highlighter-rouge">http://my.dn/monitors/cb1</code> webhook with the vin of the vehicle as a query param and your <code class="language-plaintext highlighter-rouge">Basic authentication</code> in HTTP header.</li>
  <li>In the <strong>JSON response</strong>, you will find the <code class="language-plaintext highlighter-rouge">alerts</code> and <code class="language-plaintext highlighter-rouge">status</code> of the corresponding vehicle.</li>
  <li>This monitor is <strong>triggered</strong> if the vehicle’s electric autonomy is lower than 50% AND either is out of an 20km radius circle of the center of Paris, France OR on Mondays.</li>
</ul>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"IDF Zone monitor With Data Triggering:[vehicle.energy.electric.level] OR on Mondays"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"subscribeParam"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"refreshEvent"</span><span class="p">:</span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nl">"retryPolicy"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"policy"</span><span class="p">:</span><span class="s2">"Always"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxRetryNumber"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
         </span><span class="nl">"retryDelay"</span><span class="p">:</span><span class="mi">120</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"batchNotify"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"size"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
         </span><span class="nl">"timeWindow"</span><span class="p">:</span><span class="mi">300</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"callback"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"target"</span><span class="p">:</span><span class="s2">"http://my.dn/monitors/cb1"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"HTTP_CB"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"attributes"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"Query"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"vin"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"$vin"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"Header"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="nl">"extendedEventParam"</span><span class="p">:[</span><span class="w">
      </span><span class="s2">"vehicle.alerts"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vehicle.status"</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nl">"triggerParam"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outOfParis"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"transition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Out"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"circle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"radius"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
               </span><span class="nl">"center"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.333333</span><span class="p">,</span><span class="w">
               </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">48.866667</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"onMonday"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"times"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
               </span><span class="p">{</span><span class="w">
               </span><span class="nl">"recurrence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Daily"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PT14H30M"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"occurence"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"day"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                     </span><span class="s2">"Mon"</span><span class="w">
                  </span><span class="p">]</span><span class="w">
               </span><span class="p">},</span><span class="w">
               </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PT04H30M"</span><span class="w">
             </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"timeZone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Europe/Paris"</span><span class="w">
         </span><span class="p">},</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batteryIsLow"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vehicle.energy.electric.level"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lowerThan"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"50"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"boolExp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"((outOfParis &amp; (batteryIsLow | onMonday)"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
    
      <h3 id="42-heatwave">
        <span class="bd-anchor-name">
        
          4.2 Heatwave
                  </span>

        
        
      </h3>

<p>Another example monitor to detect heatwave:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"label"</span><span class="p">:</span><span class="s2">"IDF Zone monitor With Data Triggering:[environment.air.temp]"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"subscribeParam"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"refreshEvent"</span><span class="p">:</span><span class="mi">600</span><span class="p">,</span><span class="w">
      </span><span class="nl">"retryPolicy"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"policy"</span><span class="p">:</span><span class="s2">"Always"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"maxRetryNumber"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
         </span><span class="nl">"retryDelay"</span><span class="p">:</span><span class="mi">120</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"batchNotify"</span><span class="p">:{</span><span class="w">
         </span><span class="nl">"size"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
         </span><span class="nl">"timeWindow"</span><span class="p">:</span><span class="mi">300</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="nl">"callback"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"webhook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://my.post.callback"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My_Webhook"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"attributres"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Header"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"X-Vehicle_Id"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$vin"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
               </span><span class="nl">"type"</span><span class="p">:</span><span class="s2">"Header"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"key"</span><span class="p">:</span><span class="s2">"Authorization"</span><span class="p">,</span><span class="w">
               </span><span class="nl">"value"</span><span class="p">:</span><span class="s2">"Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ=="</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
   </span><span class="nl">"extendedEventParam"</span><span class="p">:[</span><span class="w">
      </span><span class="s2">"environment.air.temp"</span><span class="w">
   </span><span class="p">],</span><span class="w">
   </span><span class="nl">"triggerParam"</span><span class="p">:{</span><span class="w">
      </span><span class="nl">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
         </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outOfParis"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"zone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"transition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Out"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"circle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"radius"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
               </span><span class="nl">"center"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
               </span><span class="nl">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.333333</span><span class="p">,</span><span class="w">
               </span><span class="nl">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">48.866667</span><span class="w">
               </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
         </span><span class="p">},</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outsideTemperatureIsHight"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"environment.air.temp"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"greaterThan"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"30"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"boolExp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(outOfParis &amp; outsideTemperatureIsHight)"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>This request ask to <strong>create</strong> a heatwave monitor <strong>triggered</strong> inside the city of Paris, if the temperature is greater than 30 °C.</p>
    
      <h3 id="43-merge-monitors">
        <span class="bd-anchor-name">
        
          4.3 Merge Monitors
                  </span>

        
        
      </h3>

<p>In place of having two monitors like example <strong>4.1</strong> and <strong>4.2</strong> you can use boolean expression to merge those 2 examples in only one monitor:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
   </span><span class="nl">"subscribeParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">
   </span><span class="nl">"triggerParam"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"triggers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w"> </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outOfParis"</span><span class="w"> </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w"> </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outsideTemperatureIsHight"</span><span class="w"> </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w"> </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outOfParis"</span><span class="w"> </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w"> </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"onMonday"</span><span class="w"> </span><span class="p">},</span><span class="w">
         </span><span class="p">{</span><span class="w"> </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"batteryIsLow"</span><span class="w"> </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"boolExp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"((outOfParis &amp; (batteryIsLow | onMonday) | (outOfParis &amp; outsideTemperatureIsHight))"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>
    
      <h1 id="post-monitor-response">
        <span class="bd-anchor-name">
        
          Post Monitor Response
                  </span>
 <a href="#post-monitor-response" class="bd-anchor-link">#</a>
        
        
      </h1>

<p>Here is an example of HTTP response after POSTING a new monitor.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
   </span><span class="nl">"monitorId"</span><span class="p">:</span><span class="s2">"c7eeaafdf0ab9683d5a1b8d51572014996540m0021"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"status"</span><span class="p">:</span><span class="s2">"Created"</span><span class="w">
</span><span class="p">}</span><span class="w"> 
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>The monitor have been <strong>created</strong> with <code class="language-plaintext highlighter-rouge">id=c7eeaafdf0ab9683d5a1b8d51572014996540m0021</code>. This id will be sent with every notification to your webhook.</p>
        
      <div>
    </main>
        
    
    <div class="column is-hidden-touch" id="on-this-page-container">
      <aside id="on-this-page">
      

        
        <div class="bd-anchors-reference" id="anchorsReference"></div>
        <nav class="bd-anchors" id="anchors">
          <p class="bd-anchors-title aside-main-title">
            On this page
          </p>
          <ul class="bd-anchors-list">
            
            
            
          </ul>
        </nav>

        
      
      </aside>
    </div>
  
  </div>
</section><footer class="footer">
    <div class="footer-items">
        <!-- THIS WEBSITE -->
        <div class="footer-item">
        <p class="footer-heading">THIS WEBSITE</p>
        <div class="footer-links">
            <a class="footer-link" href="/changelog/#page-title">
            <span class="icon is-white">
                <i class="fas fa-code-branch"></i>
            </span>
            Website v11.0.0
            </a>
            <a class="footer-link" href="/credits/">
            <span class="icon is-white">
                <i class="fas fa-paperclip"></i>
            </span>
                Credits</a>
            <a class="footer-link" href="/contact-us/">
            <span class="icon is-white">
                <i class="far fa-envelope"></i>
            </span>
            <span>
                Contact Us!
            </span>
            </a>
            <span class="footer-link">
            <span class="icon is-white">
                <i class="far fa-copyright"></i>
            </span>
            Stellantis 2023
            </span>
        </div>
        </div>
        <!-- /THIS WEBSITE -->
        <!-- APIs -->
        <div class="footer-item">
        <p class="footer-heading">API</p>
        <div class="footer-links">
            <a class="footer-link" href="/webapi/b2b/">API Fleet Owner</a>
            <a class="footer-link" href="/webapi/b2c/">API End User</a>
            <a class="footer-link" href="/webportal/v1/">Webportal v1</a>
            <a class="footer-link" href="/webportal/v2/">Webportal v2</a>
            <a class="footer-link" href="/mobile-sdk/">Mobile SDK</a>
        </div>
        </div>
        <!-- /APIs -->
        <!-- OTHER WEBSITES -->
        <div class="footer-item">
        <p class="footer-heading">OUR WEBSITES</p>
        <div class="footer-links">
            <a class="footer-link" href="https://www.stellantis.com/">Stellantis</a>
            <a class="footer-link" href="https://www.groupe-psa.com/en/">PSA Groupe</a>
            <a class="footer-link" href="https://developer.groupe-psa.com/">API Subscription</a>
            <a class="footer-link" href="https://www.free2move.com/">Free 2 Move</a>
        </div>
        </div>
        <!-- /OTHER WEBSITES -->
        <!-- SOCIAL -->
        <div class="footer-item">
        <p class="footer-heading">SOCIAL</p>
        <div class="footer-links">
            <a class="footer-link" href="https://twitter.com/stellantis" target="_blank">
            <span class="icon is-white">
                <i class="fab fa-twitter"></i>
            </span>
            <span>
                Twitter
            </span>
            </a>
            <a class="footer-link" href="https://www.linkedin.com/company/stellantis" target="_blank">
            <span class="icon is-white">
                <i class="fab fa-linkedin "></i>
            </span>
            <span>
                LinkedIn
            </span>
            </a>
            <a class="footer-link" href="https://www.facebook.com/Stellantis/" target="_blank">
            <span class="icon is-white">
                <i class="fab fa-facebook "></i>
            </span>
            <span>
                Facebook
            </span>
            </a>
            <a class="footer-link" href="https://www.youtube.com/c/Stellantis_official/" target="_blank">
            <span class="icon is-white">
                <i class="fab fa-youtube  is-white"></i>
            </span>
            <span>
                YouTube
            </span>
            </a>
            <a class="footer-link" href="https://github.com/GroupePSA" target="_blank">
            <span class="icon is-white">
                <i class="fab fa-github  is-white"></i>
            </span>
            <span>
                GitHub
            </span>
            </a>            
        </div>
        </div>
        <!-- /SOCIAL -->
    </div>
    </footer>
    <script type="text/javascript" src="/assets/js/api-reference.js"></script>
    </body>
</html>
